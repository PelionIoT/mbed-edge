MESSAGE ("Building standard x86_64 desktop Linux target")
SET (OS_BRAND Linux)
SET (MBED_CLOUD_CLIENT_DEVICE x86_x64)
SET (PAL_TARGET_DEVICE x86_x64)

if(FOTA_ENABLE AND NOT MBED_CLOUD_CLIENT_CURL_DYNAMIC_LINK)
  SET (MBED_CLOUD_CLIENT_MIDDLEWARE curl)
  SET (PLATFORM_TARGET x86_x64_NativeLinux_mbedtls)
endif()

if (${FOTA_ENABLE})
  if (NOT DEFINED FOTA_LINUX_STORAGE_DIR)
    SET (MBED_CLOUD_CLIENT_FOTA_LINUX_CONFIG_DIR "\"/opt/izuma\"")
  endif()
  if (NOT DEFINED FOTA_LINUX_UPDATE_CANDIDATE_FILE)
    SET (MBED_CLOUD_CLIENT_FOTA_LINUX_CANDIDATE_FILENAME "\"fota_candidate\"")
  endif()
  add_definitions(
      -DMBED_CLOUD_CLIENT_FOTA_LINUX_CONFIG_DIR=${MBED_CLOUD_CLIENT_FOTA_LINUX_CONFIG_DIR}
      -DMBED_CLOUD_CLIENT_FOTA_LINUX_UPDATE_STORAGE_FILENAME="fota_candidate_storage"
      -DMBED_CLOUD_CLIENT_FOTA_LINUX_CANDIDATE_FILENAME=${MBED_CLOUD_CLIENT_FOTA_LINUX_CANDIDATE_FILENAME}
  )
endif()

if(PARSEC_TPM_SE_SUPPORT)
  SET (PAL_FS_MOUNT_POINT_PRIMARY "\"./psa\"")
  SET (PAL_FS_MOUNT_POINT_SECONDARY "\"./psa\"")
  SET (MBED_CLOUD_CLIENT_MIDDLEWARE trusted_storage mbedtls parsec_se_driver)
  SET (PLATFORM_TARGET x86_x64_NativeLinux_mbedtls)
  SET (MBED_CLOUD_CLIENT_OS Linux_Native)
  SET (MBED_CLOUD_CLIENT_SDK )
  SET (MBED_CLOUD_CLIENT_TOOLCHAIN )
  SET (MBED_CLOUD_CLIENT_BUILD_SYS_MIN_VER 2)
  SET (MBED_CLOUD_CLIENT_NATIVE_SDK False)
else()
  SET (PAL_FS_MOUNT_POINT_PRIMARY "\"./mcc_config\"")
  SET (PAL_FS_MOUNT_POINT_SECONDARY "\"./mcc_config\"")
endif()

SET (PAL_USER_DEFINED_CONFIGURATION "\"${CMAKE_CURRENT_SOURCE_DIR}/config/sotp_fs_linux.h\"")

if (${FIRMWARE_UPDATE})
  SET (MBED_CLOUD_CLIENT_UPDATE_STORAGE "ARM_UCP_LINUX_GENERIC")
endif()

